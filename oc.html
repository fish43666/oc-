<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OCç”Ÿæˆå™¨</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      padding: 2em;
      transition: background-color 0.5s;
    }
    .container {
      background: white;
      padding: 2em;
      border-radius: 1em;
      max-width: 800px;
      margin: auto;
    }
    .watermark {
      font-size: 0.8em;
      color: #888;
      float: left;
      margin-right: 0.5em;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.5em;
      margin-bottom: 1em;
      border-radius: 0.5em;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      padding: 0.7em 1.5em;
      border: none;
      border-radius: 0.5em;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    canvas {
      display: block;
      margin: 1em auto;
      background: #fff;
      border-radius: 1em;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <div><span class="watermark">xzgh</span><h2>OCç”Ÿæˆå™¨</h2></div>
    <label>è§’è‰²åå­—ï¼š<input type="text" id="name" placeholder="xzgh" /></label>
    <label>æ€§åˆ«ï¼š
      <select id="gender">
        <option>ç”·å‡‰</option>
        <option>ç”·</option>
        <option>å¥³</option>
        <option>ä¸æ˜</option>
        <option>è‡ªå®šä¹‰</option>
      </select>
    </label>
    <label>å¹´é¾„ï¼ˆå²ï¼‰ï¼š<input type="number" id="age" min="1" max="999" /></label>
    <label>èº«é«˜ï¼ˆcmï¼‰ï¼š<input type="number" id="height" /></label>
    <label>å‘è‰²ï¼š<input type="text" id="hair" /></label>
    <label>ç³è‰²ï¼ˆæ”¯æŒå¼‚è‰²ï¼‰ï¼š<input type="text" id="eyes" /></label>
    <label>å¤–è²Œç‰¹å¾ï¼š<input type="text" id="features" /></label>
    <label>ç©¿ç€é£æ ¼ä¸é…é¥°ï¼š<input type="text" id="clothes" /></label>
    <label>é˜µè¥/æ‰€å±å›¢ä½“ï¼š<input type="text" id="camp" /></label>
    <label>ä¸»è¦æ­¦å™¨ï¼š<input type="text" id="weapon" /></label>
    <label>è„‰åŸå±æ€§ç±»å‹ï¼š<input type="text" id="source" /></label>
    <label>è„‰åŸç­‰çº§ï¼ˆ0~6 æˆ–ç‰¹æ®ŠçŠ¶æ€ï¼‰ï¼š<input type="text" id="sourceLevel" /></label>
    <label>è„‰åŸæŠ€èƒ½ç®€è¿°ï¼š<textarea id="sourceSkill" rows="3"></textarea></label>
    <label>ç‰¹æ®Šè®¾å®šä¸èƒŒæ™¯æ•…äº‹ï¼š<textarea id="special" rows="3"></textarea></label>

    <h3>ğŸ§­ äº”ç»´å±æ€§è¯„åˆ†ï¼ˆ0~100ï¼‰</h3>
    <label>åŠ›é‡ Strengthï¼š<input type="number" id="str" min="0" max="100" /></label>
    <label>æ•æ· Agilityï¼š<input type="number" id="agi" min="0" max="100" /></label>
    <label>æ™ºåŠ› Intelligenceï¼š<input type="number" id="int" min="0" max="100" /></label>
    <label>æ„ŸçŸ¥ Perceptionï¼š<input type="number" id="per" min="0" max="100" /></label>
    <label>é­…åŠ› Charismaï¼š<input type="number" id="cha" min="0" max="100" /></label>

    <h3>âš”ï¸ ç§‘ç³»é€‰æ‹©</h3>
    <select id="kinds">
      <option>å™¨æœ¯ç§‘</option>
      <option>å¹»æœ¯ç§‘</option>
      <option>å·è½´ç§‘</option>
      <option>ä½“æœ¯ç§‘</option>
    </select>

    <h3>ğŸ’‰ å½“å‰çŠ¶æ€</h3>
    <select id="status">
      <option>å¥åº·</option>
      <option>è½»ä¼¤</option>
      <option>å—ä¼¤</option>
      <option>æ¿’å±</option>
      <option>æ­»äº¡</option>
      <option>èµ›åšé£å‡</option>
    </select>

    <button onclick="generateOC()">ç”Ÿæˆè§’è‰²æè¿° + å±æ€§å›¾</button>

    <h3>ğŸ“ è‡ªåŠ¨ç”Ÿæˆçš„è§’è‰²æè¿°ï¼š</h3>
    <pre id="output"></pre>

    <canvas id="radar" width="400" height="400"></canvas>
  </div>

  <script>
    function switchToJapanese() {
      document.querySelector('h2').textContent = 'OCã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼';
      document.querySelectorAll('h3')[1].textContent = 'ğŸ“ è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼èª¬æ˜ï¼š';
      const status = document.getElementById('status');
      status.options[0].text = 'å¥åº·';
      status.options[1].text = 'è»½å‚·';
      status.options[2].text = 'è² å‚·';
      status.options[3].text = 'ç€•æ­»';
      status.options[4].text = 'æ­»äº¡';
      status.options[5].text = 'ã‚µã‚¤ãƒãƒ¼æ˜‡è¯';
    }

    function switchToChinese() {
      document.querySelector('h2').textContent = 'OCç”Ÿæˆå™¨';
      document.querySelectorAll('h3')[1].textContent = 'ğŸ“ è‡ªåŠ¨ç”Ÿæˆçš„è§’è‰²æè¿°ï¼š';
      const status = document.getElementById('status');
      status.options[0].text = 'å¥åº·';
      status.options[1].text = 'è½»ä¼¤';
      status.options[2].text = 'å—ä¼¤';
      status.options[3].text = 'æ¿’å±';
      status.options[4].text = 'æ­»äº¡';
      status.options[5].text = 'èµ›åšé£å‡';
    }

    function drawRadar(str, agi, intt, per, cha) {
      const canvas = document.getElementById('radar');
      const ctx = canvas.getContext('2d');
      const width = canvas.width;
      const height = canvas.height;
      const centerX = width / 2;
      const centerY = height / 2;
      const maxRadius = Math.min(centerX, centerY) * 0.8;

      ctx.clearRect(0, 0, width, height);

      const attrs = [
        { name: 'åŠ›é‡', value: str },
        { name: 'æ•æ·', value: agi },
        { name: 'æ™ºåŠ›', value: intt },
        { name: 'æ„ŸçŸ¥', value: per },
        { name: 'é­…åŠ›', value: cha }
      ];

      const sides = attrs.length;
      const angleStep = (2 * Math.PI) / sides;

      ctx.strokeStyle = '#aaa';
      ctx.lineWidth = 1;

      // ç”»èœ˜è››ç½‘æ ¼å±‚ï¼ˆ5å±‚ï¼‰
      for (let layer = 1; layer <= 5; layer++) {
        let r = (maxRadius / 5) * layer;
        ctx.beginPath();
        for (let i = 0; i < sides; i++) {
          let angle = i * angleStep - Math.PI / 2;
          let x = centerX + r * Math.cos(angle);
          let y = centerY + r * Math.sin(angle);
          if (i === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.closePath();
        ctx.stroke();
      }

      // ç”»ä»ä¸­å¿ƒåˆ°å„é¡¶ç‚¹çš„è½´çº¿
      for (let i = 0; i < sides; i++) {
        let angle = i * angleStep - Math.PI / 2;
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.lineTo(
          centerX + maxRadius * Math.cos(angle),
          centerY + maxRadius * Math.sin(angle)
        );
        ctx.stroke();
      }

      // ç”»å±æ€§ç‚¹å¹¶è¿æ¥æˆç½‘çŠ¶
      ctx.strokeStyle = '#007bff';
      ctx.fillStyle = '#007bff';
      ctx.lineWidth = 2;

      ctx.beginPath();
      for (let i = 0; i < sides; i++) {
        let angle = i * angleStep - Math.PI / 2;
        let r = (attrs[i].value / 100) * maxRadius;
        let x = centerX + r * Math.cos(angle);
        let y = centerY + r * Math.sin(angle);
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);

        // ç”»å°åœ†ç‚¹
        ctx.beginPath();
        ctx.arc(x, y, 5, 0, 2 * Math.PI);
        ctx.fill();
      }
      ctx.closePath();
      ctx.stroke();

      // ç”»å±æ€§å
      ctx.fillStyle = '#000';
      ctx.font = '14px sans-serif';
      for (let i = 0; i < sides; i++) {
        let angle = i * angleStep - Math.PI / 2;
        let x = centerX + (maxRadius + 20) * Math.cos(angle);
        let y = centerY + (maxRadius + 20) * Math.sin(angle);
        ctx.textAlign = x < centerX ? 'right' : 'left';
        ctx.textBaseline = 'middle';
        ctx.fillText(attrs[i].name, x, y);
      }
    }

    function generateOC() {
      const name = document.getElementById('name').value.trim();
      const eyes = document.getElementById('eyes').value.trim();
      const status = document.getElementById('status');
      const height = parseInt(document.getElementById('height').value) || 0;

      // é¢„å…ˆåˆå§‹åŒ–extramsg
      let extramsg = '';

      // ç‰¹æ®Šå¤„ç†å½©è›‹å’ŒçŠ¶æ€
      if (name === 'å­™ç¬‘å·') {
        status.value = 'æ­»äº¡';
        switchToJapanese();
      } else {
        switchToChinese();
      }

      if (name.toLowerCase() === 'mikasa') {
        alert('ä½ åœ¨æ‰“ä»€ä¹ˆä¸»æ„ï¼Ÿ');
      } else if (name === 'è‰¾ä¼¦') {
        extramsg = 'æœºæ²¹å“’';
      } else if (name === 'xzgh') {
        extramsg = 'ä½ è¯å¹²å˜›ï¼Ÿï¼Ÿï¼Ÿ';
      }

      let str = parseInt(document.getElementById('str').value) || 0;
      let agi = parseInt(document.getElementById('agi').value) || 0;
      let intt = parseInt(document.getElementById('int').value) || 0;
      let per = parseInt(document.getElementById('per').value) || 0;
      let cha = parseInt(document.getElementById('cha').value) || 0;

      if (str >= 100 && agi >= 100 && intt >= 100 && per >= 100 && cha >= 100) {
        extramsg = 'æˆ‘ä¸å½“äººå•¦ï¼Œjojoï¼ï¼ï¼';
      }

      // èº«é«˜å½©è›‹
      if (height > 500) {
        extramsg += (extramsg ? '\n' : '') + 'é‚£ä¸€å¤©äººç±»åˆæƒ³èµ·äº†è¢«å·¨äººæ”¯é…çš„ææƒ§';
      }

      // ç³è‰²å½©è›‹ï¼šçº¢è‰²æ·±çº¢èƒŒæ™¯
      if (eyes.includes('çº¢')) {
        document.body.style.backgroundColor = '#8B0000'; // æ·±çº¢è‰²
      } else {
        document.body.style.backgroundColor = '#f4f4f4'; // æ¢å¤é»˜è®¤
      }

      const result = 
`è§’è‰²åï¼š${name}
æ€§åˆ«ï¼š${document.getElementById('gender').value}
å¹´é¾„ï¼š${document.getElementById('age').value}
èº«é«˜ï¼š${height} cm
å‘è‰²ï¼š${document.getElementById('hair').value}
ç³è‰²ï¼š${eyes}
å¤–è²Œç‰¹å¾ï¼š${document.getElementById('features').value}
ç©¿ç€é£æ ¼ä¸é…é¥°ï¼š${document.getElementById('clothes').value}
é˜µè¥/æ‰€å±å›¢ä½“ï¼š${document.getElementById('camp').value}
ä¸»è¦æ­¦å™¨ï¼š${document.getElementById('weapon').value}
è„‰åŸå±æ€§ç±»å‹ï¼š${document.getElementById('source').value}
è„‰åŸç­‰çº§ï¼š${document.getElementById('sourceLevel').value}
è„‰åŸæŠ€èƒ½ç®€è¿°ï¼š
${document.getElementById('sourceSkill').value}
ç‰¹æ®Šè®¾å®šä¸èƒŒæ™¯æ•…äº‹ï¼š
${document.getElementById('special').value}

äº”ç»´å±æ€§è¯„åˆ†ï¼š
åŠ›é‡ (STR): ${str}
æ•æ· (AGI): ${agi}
æ™ºåŠ› (INT): ${intt}
æ„ŸçŸ¥ (PER): ${per}
é­…åŠ› (CHA): ${cha}

å½“å‰çŠ¶æ€ï¼š${status.value}

${extramsg}`;

      document.getElementById('output').textContent = result;

      drawRadar(str, agi, intt, per, cha);
    }
  </script>
</body>
</html>
